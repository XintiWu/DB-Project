# ğŸš€ é–‹ç™¼æŒ‡å— - æ¥ä¸‹ä¾†è¦åšä»€éº¼

## âœ… ç›®å‰ç‹€æ…‹

### å·²å•Ÿå‹•çš„æœå‹™ï¼š
- âœ… **å‰ç«¯**ï¼šhttp://localhost:5174 ï¼ˆVite + Reactï¼‰
- âœ… **Python å¾Œç«¯**ï¼šhttp://localhost:5000 ï¼ˆFlask + PostgreSQLï¼‰
- âœ… **TypeScript å¾Œç«¯**ï¼šhttp://localhost:3000 ï¼ˆExpressï¼Œæ¸¬è©¦ç”¨ï¼‰

### ä½ çš„å·¥ä½œåˆ†æ”¯ï¼š
- ğŸŒ¿ `feature/frontend`ï¼ˆåŒ…å«å‰å¾Œç«¯å®Œæ•´ä»£ç¢¼ï¼‰

---

## ğŸ“‹ æ¥ä¸‹ä¾†çš„ 3 å€‹å…·é«”æ­¥é©Ÿ

### ğŸ¯ æ­¥é©Ÿ 1ï¼šç¢ºèªè³‡æ–™åº«é€£æ¥ï¼ˆ5åˆ†é˜ï¼‰

#### é¸é … Aï¼šçµ„å“¡å·²ç¶“è¨­å®šå¥½è³‡æ–™åº«
```bash
# è©¢å•çµ„å“¡ä»¥ä¸‹è³‡è¨Šï¼š
# 1. PostgreSQL æ˜¯å¦å·²å®‰è£ï¼Ÿ
# 2. è³‡æ–™åº«åç¨±ï¼šdisaster_platform
# 3. ä½¿ç”¨è€…åç¨±å’Œå¯†ç¢¼
# 4. è³‡æ–™è¡¨çµæ§‹ï¼ˆUSERS, shelters, needs ç­‰ï¼‰

# æ›´æ–° config.py ä¸­çš„å¯†ç¢¼
```

#### é¸é … Bï¼šé‚„æ²’è¨­å®šè³‡æ–™åº«ï¼ˆè·³éï¼Œä½¿ç”¨æ¸¬è©¦è³‡æ–™ï¼‰
```bash
# æš«æ™‚ä½¿ç”¨ public/data/*.csv çš„è³‡æ–™
# å…ˆé–‹ç™¼å‰ç«¯ UIï¼Œä¹‹å¾Œå†é€£æ¥è³‡æ–™åº«
```

**å»ºè­°ï¼šå…ˆè·³éè³‡æ–™åº«ï¼Œä½¿ç”¨ CSV æ¸¬è©¦è³‡æ–™é–‹ç™¼å‰ç«¯ âœ…**

---

### ğŸ¯ æ­¥é©Ÿ 2ï¼šé–‹å§‹é–‹ç™¼ç¬¬ä¸€å€‹åŠŸèƒ½ï¼ˆ30åˆ†é˜ï¼‰

#### ä»»å‹™ï¼šåœ¨é¦–é é¡¯ç¤ºé¿é›£æ‰€åˆ—è¡¨

**2.1 äº†è§£ç¾æœ‰é é¢**
```bash
# æ‰“é–‹ç€è¦½å™¨æŸ¥çœ‹ç¾æœ‰é é¢
open http://localhost:5174
```

ç¾æœ‰é é¢ï¼š
- `/` - é¦–é ï¼ˆæœ‰ã€Œæˆ‘æ˜¯å¿—å·¥ã€å’Œã€Œæˆ‘æ˜¯ç½æ°‘ã€æŒ‰éˆ•ï¼‰
- `/volunteer` - å¿—å·¥é é¢ï¼ˆç€è¦½éœ€æ±‚ï¼‰
- `/publish-need` - ç™¼å¸ƒéœ€æ±‚é é¢

**2.2 é¸æ“‡ä¸€å€‹ä»»å‹™é–‹å§‹ï¼š**

#### é¸é … 1ï¼šåœ¨é¦–é æ–°å¢ã€Œé¿é›£æ‰€è³‡è¨Šã€å€å¡Š
```typescript
// 1. å‰µå»ºæ–°çµ„ä»¶
src/components/ShelterCard.tsx

// 2. åœ¨é¦–é åŠ å…¥
src/pages/HomePage.tsx
```

#### é¸é … 2ï¼šä¿®æ”¹ç¾æœ‰çš„éœ€æ±‚å¡ç‰‡æ¨£å¼
```typescript
// ä¿®æ”¹
src/components/NeedCard.tsx
src/components/NeedCardEnhanced.tsx
```

#### é¸é … 3ï¼šæ–°å¢ä¸€å€‹ã€Œé¿é›£æ‰€åœ°åœ–ã€é é¢
```typescript
// 1. å‰µå»ºæ–°é é¢
src/pages/ShelterMapPage.tsx

// 2. åœ¨ App.tsx åŠ å…¥è·¯ç”±
```

**æ¨è–¦å¾é¸é … 1 é–‹å§‹ï¼** â­

---

### ğŸ¯ æ­¥é©Ÿ 3ï¼šå¯¦ä½œé¿é›£æ‰€å¡ç‰‡çµ„ä»¶ï¼ˆå¯¦ä½œç¯„ä¾‹ï¼‰

#### 3.1 å‰µå»ºé¿é›£æ‰€è³‡æ–™ Hook
```typescript
// src/hooks/useShelterData.ts
import { useState, useEffect } from 'react';

interface Shelter {
  shelter_id: string;
  name: string;
  location: string;
  capacity: number;
  current_occupancy: number;
  contact_phone: string;
}

export const useShelterData = () => {
  const [shelters, setShelters] = useState<Shelter[]>([]);
  const [loading, setLoading] = useState(true);

  useEffect(() => {
    const fetchShelters = async () => {
      try {
        // å¾ CSV æª”æ¡ˆè®€å–ï¼ˆæš«æ™‚ï¼‰
        const response = await fetch('/data/shelters.csv');
        const text = await response.text();
        
        // è§£æ CSVï¼ˆç°¡å–®ç‰ˆæœ¬ï¼‰
        const lines = text.split('\n').slice(1); // è·³éæ¨™é¡Œè¡Œ
        const data = lines.map(line => {
          const [id, name, location, capacity, occupancy, phone] = line.split(',');
          return {
            shelter_id: id,
            name,
            location,
            capacity: parseInt(capacity),
            current_occupancy: parseInt(occupancy),
            contact_phone: phone
          };
        });
        
        setShelters(data);
      } catch (error) {
        console.error('è¼‰å…¥é¿é›£æ‰€è³‡æ–™å¤±æ•—:', error);
      } finally {
        setLoading(false);
      }
    };

    fetchShelters();
  }, []);

  return { shelters, loading };
};
```

#### 3.2 å‰µå»ºé¿é›£æ‰€å¡ç‰‡çµ„ä»¶
```typescript
// src/components/ShelterCard.tsx
import { Card } from './ui/card';
import { Badge } from './ui/badge';

interface ShelterCardProps {
  name: string;
  location: string;
  capacity: number;
  current_occupancy: number;
  contact_phone: string;
}

export const ShelterCard = ({
  name,
  location,
  capacity,
  current_occupancy,
  contact_phone
}: ShelterCardProps) => {
  const occupancyRate = (current_occupancy / capacity) * 100;
  const isFull = occupancyRate >= 90;
  
  return (
    <Card className="p-4 hover:shadow-lg transition-shadow">
      <div className="flex justify-between items-start mb-2">
        <h3 className="font-bold text-lg">{name}</h3>
        {isFull ? (
          <Badge variant="destructive">è¿‘æ»¿</Badge>
        ) : (
          <Badge variant="default">æœ‰ç©ºä½</Badge>
        )}
      </div>
      
      <p className="text-gray-600 mb-2">ğŸ“ {location}</p>
      
      <div className="flex justify-between text-sm mb-2">
        <span>å®¹é‡ï¼š{capacity} äºº</span>
        <span>ç›®å‰ï¼š{current_occupancy} äºº</span>
      </div>
      
      <div className="w-full bg-gray-200 rounded-full h-2 mb-3">
        <div 
          className={`h-2 rounded-full ${isFull ? 'bg-red-500' : 'bg-green-500'}`}
          style={{ width: `${occupancyRate}%` }}
        />
      </div>
      
      <p className="text-sm text-gray-500">ğŸ“ {contact_phone}</p>
    </Card>
  );
};
```

#### 3.3 åœ¨é¦–é ä½¿ç”¨
```typescript
// src/pages/HomePage.tsx
// åœ¨ç¾æœ‰çš„å…§å®¹ä¸‹æ–¹åŠ å…¥ï¼š

import { ShelterCard } from '../components/ShelterCard';
import { useShelterData } from '../hooks/useShelterData';

// åœ¨çµ„ä»¶ä¸­åŠ å…¥ï¼š
const { shelters, loading } = useShelterData();

// åœ¨ JSX ä¸­åŠ å…¥ï¼š
<section className="mt-12">
  <h2 className="text-2xl font-bold mb-6">ğŸ  é™„è¿‘é¿é›£æ‰€</h2>
  
  {loading ? (
    <p>è¼‰å…¥ä¸­...</p>
  ) : (
    <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
      {shelters.slice(0, 6).map(shelter => (
        <ShelterCard key={shelter.shelter_id} {...shelter} />
      ))}
    </div>
  )}
</section>
```

---

## ğŸ”„ æ¨™æº–é–‹ç™¼å¾ªç’°

### æ¯æ¬¡é–‹ç™¼æ–°åŠŸèƒ½ï¼š

```bash
# 1. ç¢ºä¿åœ¨æ­£ç¢ºçš„åˆ†æ”¯
git branch  # ç¢ºèªæ˜¯ feature/frontend

# 2. å‰µå»º/ä¿®æ”¹æª”æ¡ˆ
# ç·¨è¼¯ src/components/ æˆ– src/pages/

# 3. åœ¨ç€è¦½å™¨æŸ¥çœ‹æ•ˆæœ
# http://localhost:5174

# 4. æ»¿æ„å¾Œæäº¤
git add src/components/ShelterCard.tsx
git add src/hooks/useShelterData.ts
git commit -m "feat: æ–°å¢é¿é›£æ‰€å¡ç‰‡çµ„ä»¶"

# 5. æ¨é€ï¼ˆæ¯å®Œæˆä¸€å€‹åŠŸèƒ½ï¼‰
git push origin feature/frontend
```

---

## ğŸ“š å­¸ç¿’è³‡æº

### å°ˆæ¡ˆä¸­å·²æœ‰çš„çµ„ä»¶å¯ä»¥åƒè€ƒï¼š
- `src/components/NeedCard.tsx` - å¡ç‰‡çµ„ä»¶ç¯„ä¾‹
- `src/hooks/useNeedData.ts` - è³‡æ–™ç²å– Hook ç¯„ä¾‹
- `src/pages/VolunteerPage.tsx` - å®Œæ•´é é¢ç¯„ä¾‹
- `src/components/FilterPanel.tsx` - ç¯©é¸åŠŸèƒ½ç¯„ä¾‹

### ä½ å¯ä»¥åšçš„åŠŸèƒ½ï¼š
1. âœ… æ–°å¢é¿é›£æ‰€åˆ—è¡¨é é¢ï¼ˆæ¨è–¦ï¼ï¼‰
2. âœ… ä¿®æ”¹ç¾æœ‰çš„ UI æ¨£å¼
3. âœ… æ–°å¢ç¯©é¸å’Œæ’åºåŠŸèƒ½
4. âœ… æ–°å¢åœ°åœ–é¡¯ç¤ºï¼ˆéœ€è¦åœ°åœ– APIï¼‰
5. âœ… æ”¹å–„æ‰‹æ©Ÿç‰ˆ RWD

---

## ğŸ†˜ é‡åˆ°å•é¡Œæ™‚

### å‰ç«¯éŒ¯èª¤ï¼š
- æ‰“é–‹ç€è¦½å™¨ Consoleï¼ˆF12ï¼‰æŸ¥çœ‹éŒ¯èª¤
- æª¢æŸ¥ Vite çµ‚ç«¯çš„éŒ¯èª¤è¨Šæ¯

### Git å•é¡Œï¼š
```bash
# æŸ¥çœ‹ç‹€æ…‹
git status

# æ”¾æ£„ä¿®æ”¹
git checkout -- æª”æ¡ˆåç¨±

# æŸ¥çœ‹å·®ç•°
git diff
```

### éœ€è¦æ–°å¥—ä»¶ï¼š
```bash
npm install å¥—ä»¶åç¨±
```

---

## ğŸ’¡ ä»Šå¤©çš„ç›®æ¨™å»ºè­°

### ğŸ¯ ç›®æ¨™ 1ï¼ˆç°¡å–®ï¼‰ï¼šç†Ÿæ‚‰å°ˆæ¡ˆ
- [ ] ç€è¦½ç¾æœ‰é é¢ï¼Œäº†è§£åŠŸèƒ½
- [ ] é–±è®€ 2-3 å€‹ç¾æœ‰çµ„ä»¶çš„ç¨‹å¼ç¢¼
- [ ] ä¿®æ”¹ä¸€å€‹å°æ±è¥¿ï¼ˆä¾‹å¦‚æŒ‰éˆ•é¡è‰²ï¼‰

### ğŸ¯ ç›®æ¨™ 2ï¼ˆä¸­ç­‰ï¼‰ï¼šæ–°å¢ä¸€å€‹å°åŠŸèƒ½
- [ ] å¯¦ä½œé¿é›£æ‰€å¡ç‰‡çµ„ä»¶
- [ ] åœ¨é¦–é é¡¯ç¤ºé¿é›£æ‰€åˆ—è¡¨
- [ ] æäº¤ä½ çš„ç¬¬ä¸€å€‹åŠŸèƒ½

### ğŸ¯ ç›®æ¨™ 3ï¼ˆé€²éšï¼‰ï¼šå®Œæ•´é é¢
- [ ] å‰µå»ºé¿é›£æ‰€åˆ—è¡¨é é¢
- [ ] åŠ å…¥ç¯©é¸åŠŸèƒ½
- [ ] åŠ å…¥è·¯ç”±å°èˆª

**å»ºè­°å¾ç›®æ¨™ 2 é–‹å§‹ï¼** â­

---

## ğŸ“ éœ€è¦å¹«åŠ©ï¼Ÿ

### å•æˆ‘ï¼š
- "å¦‚ä½•å‰µå»ºæ–°é é¢ï¼Ÿ"
- "å¦‚ä½•è®€å– CSV è³‡æ–™ï¼Ÿ"
- "å¦‚ä½•ä½¿ç”¨ Tailwind CSSï¼Ÿ"
- "å¦‚ä½•è™•ç† Git è¡çªï¼Ÿ"
- "å¦‚ä½•é€£æ¥å¾Œç«¯ APIï¼Ÿ"

---

**æº–å‚™å¥½äº†å—ï¼Ÿé–‹å§‹ç¬¬ä¸€å€‹åŠŸèƒ½å§ï¼** ğŸš€

